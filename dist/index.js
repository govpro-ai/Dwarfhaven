/*! For license information please see index.js.LICENSE.txt */
var Dwarfhaven;(()=>{"use strict";var t={};(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);window.post=(t,e,n)=>{return o=void 0,r=void 0,a=function*(){var o;const r=yield fetch("https://mail.helloaiko.com"+t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","x-access-token":n||""}}).catch((t=>console.error("Error in sending request:",t)));if(!r)return null;if(200!=r.status){const t=yield r.json().catch((t=>t));return console.error("Server returned error. Code:",r.status,"& Data:",t),{error:r.status,msg:null!==(o=null==t?void 0:t.error)&&void 0!==o?o:"No or invalid error message received."}}const i=yield r.json().catch((t=>console.error("Error when consuming JSON from server:",t)));if(!i)return null;if(i.error)throw i.error;return i},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(n,s)}c((a=a.apply(o,r||[])).next())}));var o,r,i,a},Array.prototype.tail=function(t){return this.slice(-t)},Array.prototype.last=function(){return this.tail(1)[0]},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},window.unescapeHTML=(()=>{const t=document.createElement("div"),e=/&(?:#x[a-f0-9]+|#[0-9]+|[a-z0-9]+);?/gi;return n=>(n=n.replace(e,(e=>{var n;return t.innerHTML=e,null!==(n=t.textContent)&&void 0!==n?n:""})),t.textContent="",n)})();const e=new DOMParser;window.html2Text=t=>{t.length<5e3&&(t=t.replace(/<style[^>]*>([^<]|\n|\r\n)*<\/style>/gi,""));const n=e.parseFromString(t,"text/html");return n.close(),n.body.innerText.trim().replace(/( |\n)+/g," ")},window.html2Element=t=>{const e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild},window.objectId2Date=t=>{const e=t.substring(0,8);return new Date(1e3*parseInt(e,16))},window.channel2Hex=t=>t.toString(16).padStart(2,"0"),window.rgb2Hex=(t,e,n)=>window.channel2Hex(t)+window.channel2Hex(e)+window.channel2Hex(n),window.rgbIsDark=(t,e,n)=>Math.sqrt(.299*Math.pow(t,2)+.587*Math.pow(e,2)+.114*Math.pow(n,2))<150,window.image2Color=(t,e)=>new Promise(((n,o)=>{const r=new window.ColorThief,i=new Image;i.onload=()=>{const t=r.getPalette(i).filter((t=>(null==e||e)==window.rgbIsDark(...t)));if(0==t.length)return n(null);const o=t[0],a=window.rgb2Hex(...o);return n(a)},i.crossOrigin="Anonymous",i.src=t})),window.ext2FontAwesomeIcon=t=>{switch(t){case"gz":case"zip":case"tar":case"7z":case"rar":return"fa-file-archive";case"mp3":case"aac":case"ogg":case"wav":case"raw":return"fa-file-audio";case"js":case"css":case"cpp":case"java":case"class":case"py":case"cs":case"gml":case"bin":case"asm":case"pl":case"hs":case"jsx":case"ts":case"html":case"json":case"sh":case"env":return"fa-file-code";case"xls":case"xlsx":case"csv":case"numbers":return"fa-file-excel";case"jpg":case"jpeg":case"png":case"gif":case"psd":case"ai":case"tiff":case"bmp":case"riff":case"xbmp":case"webp":case"svg":return"fa-file-image";case"mp4":case"avi":case"wmv":case"flv":case"mov":case"webm":case"mpeg":case"mpg":case"mpv":return"fa-file-movie";case"doc":case"docx":return"fa-file-word";case"txt":return"fa-file-text";case"pdf":return"fa-file-pdf";case"ppt":case"pptx":case"odp":return"fa-file-powerpoint";default:return"fa-file"}},Date.prototype.toMonth=function(){return["January","February","March","April","May","June","July","August","September"][this.getMonth()]},Date.prototype.addDays=function(t){const e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},Date.prototype.toDate=function(){return`${this.getMonth()+1}/${this.getDate()}/${this.getFullYear()}`},Date.prototype.toTime=function(){return this.toISOString().substr(11,8)},Date.prototype.toDateTime=function(){return this.toDate()+" "+this.toTime()},Date.prototype.toNicerDateTime=function(){const t=new Date,e=t.addDays(1),n=t.addDays(-1),o=(this.valueOf()-t.valueOf())/864e5;if(Math.abs(o)<2){if(this.getDate()==t.getDate())return"Today, "+this.toLocaleTimeString("en-us",{hour:"numeric",minute:"2-digit"});if(this.getDate()==e.getDate())return"Tomorrow, "+this.toLocaleTimeString("en-us",{hour:"numeric",minute:"2-digit"});if(this.getDate()==n.getDate())return"Yesterday, "+this.toLocaleTimeString("en-us",{hour:"numeric",minute:"2-digit"})}return o<0&&o>-7?"Last "+this.toLocaleDateString("en-us",{weekday:"long",hour:"numeric",minute:"2-digit"}):o>0&&o<7?this.toLocaleDateString("en-us",{weekday:"long",hour:"numeric",minute:"2-digit"}):this.toDateTime()},Date.prototype.toNiceDateTime=function(t=7){const e=new Date,n=(this.valueOf()-e.valueOf())/864e5;return Math.abs(n)<1&&this.getDate()==e.getDate()?this.toLocaleTimeString("en-us",{hour:"numeric",minute:"2-digit"}):Math.abs(n)<t?this.toLocaleDateString("en-us",{weekday:"short",hour:"numeric",minute:"2-digit"}):Math.abs(n)<365?this.toLocaleDateString("en-us",{month:"numeric",day:"numeric"}):this.toDate()};window.downloadAndFillImage=(t,e,n=10)=>{return o=void 0,r=void 0,a=function*(){const o=document.getElementById(e);if(!o&&n>0)return setTimeout((()=>window.downloadAndFillImage(t,e,n-1)),500);yield Vue.nextTick();const r=yield(i=t,new Promise(((t,e)=>{var n;const o=document.createElement("img");o.crossOrigin="Anonymous",o.onload=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)return;e.height=o.naturalHeight,e.width=o.naturalWidth,n.drawImage(o,0,0);const r=e.toDataURL("image/png");t(r)},o.src=i,(null===(n=o.complete)||void 0===n||n)&&(o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",o.src=i)})));var i;o.src=r,o.removeAttribute("id"),o.removeAttribute("data-formula");const a=document.getElementsByClassName("editor")[0].children[0].innerHTML;window.app.html=a,window.app.editor.setContent(a)},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(n,s)}c((a=a.apply(o,r||[])).next())}));var o,r,i,a},window.copy=t=>{var e;const n=document.createElement("textarea");n.value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);const o=document.getSelection();if(!o)return;const r=o.rangeCount>0&&o.getRangeAt(0);if(n.select(),document.execCommand("copy"),document.body.removeChild(n),r){const t=null!==(e=document.getSelection())&&void 0!==e?e:o;if(!t)return;t.removeAllRanges(),t.addRange(r)}},window.insertElementAtCursor=t=>{const e=window.getSelection();if(!e)throw Error("Can't find the cursor caret.");const n=e.getRangeAt(0);n.deleteContents(),n.insertNode(t)},Number.prototype.secondsToTimestring=function(){return new Date(1e3*this.valueOf()).toISOString().substr(11,8)},Number.prototype.toFilesize=function(){const t=1e6,e=1e9;return this>e?(this.valueOf()/e).toFixed(2)+" GB":this>t?(this.valueOf()/t).toFixed(2)+" MB":this>1e3?(this.valueOf()/1e3).toFixed(2)+" KB":this+" bytes"};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.random=t=>{let e="";for(;e.length<t;)e+=Math.random().toString(16).substring(2);return e.substring(0,t)},String.prototype.hexEncode=function(){let t,e,n="";for(e=0;e<this.length;e++)t=this.charCodeAt(e).toString(16),n+=t.slice(-2);return n},Array.prototype.joinTo=function(t,e){const n=this.slice(0,t);return this.length>n.length?n.join(e||",")+" + "+(this.length-n.length):n.join(e||",")},String.prototype.getDomain=function(){try{let t;return t=this.startsWith("http://")||this.startsWith("https://")?new window.URL(this.valueOf()):new window.URL("http://"+this),t.host}catch(t){return null}},String.prototype.getAvatar=function({defaultTo:t="assets/img/avatar.png",useBoringAvatars:e=!0,useJdenticon:n=!1,colorPalette:o=["#F6F6F6","#FFFFFF","#2B4192","#486FFF","#486FFF"]}){var r,i,a,s,c;return i=this,a=void 0,c=function*(){const i=this.toString(),a=CryptoJS.MD5(i);if(404!=(yield fetch("https://www.gravatar.com/avatar/"+a.toString()+"?d=404")).status)return"https://www.gravatar.com/avatar/"+a.toString()+"?d=404";const s=()=>{if(e)try{const t=window.BoringAvatars.beam.default(i,o);return window.SVG2PNG(t)}catch(e){return t}else if(n)try{const t=window.jdenticon.toSvg(i,200);return window.SVG2PNG(t)}catch(e){return t}return t};if(null===(r=["gmail.com","office365.com","live.com","hotmail.com","outlook.com","@aol.com","yahoo.com","@me.com","@icloud.com"].filter((t=>i.endsWith(t))))||void 0===r?void 0:r[0])return s();const c="https://logo.clearbit.com/"+i.split("@")[1];return 200!=(yield fetch(c)).status?s():c},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(t){t(r)}))).then(n,o)}r((c=c.apply(i,a||[])).next())}))},window.toast=t=>null,Dwarfhaven=t})();